CREATE TABLE Usuario (
  idUsuario INTEGER GENERATED BY DEFAULT AS IDENTITY,
  nombre VARCHAR2(75) NOT NULL,
  apellido VARCHAR2(75) NOT NULL,
  edad INTEGER NULL,
  genero SMALLINT NULL,
  peso NUMBER(5,2) NULL,
  estatura NUMBER(3,2) NULL,
  nickName VARCHAR2(100) NOT NULL,
  contrasenia VARCHAR2(100) NOT NULL,
  PRIMARY KEY (idUsuario)
);

CREATE TABLE Prueba (
  idPrueba INTEGER GENERATED BY DEFAULT AS IDENTITY,
  fecha TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  min_exh NUMBER(7,2) NULL DEFAULT 0.00,
  max_exh NUMBER(7,2) NULL DEFAULT 0.00,
  avg_exh NUMBER(7,2) NULL DEFAULT 0.00,
  min_inh NUMBER(7,2) NULL DEFAULT 0.00,
  max_inh NUMBER(7,2) NULL DEFAULT 0.00,
  avg_inh NUMBER(7,2) NULL DEFAULT 0.00,
  medicion NUMBER(7,2) NULL DEFAULT 0.00,
  idUsuario INTEGER NOT NULL,
  PRIMARY KEY (idPrueba),
  FOREIGN KEY (idUsuario) REFERENCES Usuario(idUsuario)
);

CREATE TABLE Volumen (
  idVolumen INTEGER GENERATED BY DEFAULT AS IDENTITY,
  inhalado NUMBER(7,2) NOT NULL,
  exhalado NUMBER(7,2) NOT NULL,
  minuto NUMBER(7,2) NOT NULL,
  idPrueba INTEGER NOT NULL,
  PRIMARY KEY (idVolumen),
  FOREIGN KEY (idPrueba) REFERENCES Prueba(idPrueba)
);